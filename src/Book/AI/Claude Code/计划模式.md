## 何时使用计划模式 

- **多步实现**：功能需要修改多个文件
- **代码探索**：在更改前彻底研究代码库
- **交互式开发**：与 Claude 讨论方案方向

------

## 启用计划模式 

### 会话中切换 

按 **Shift+Tab** 循环切换权限模式：

```
Normal Mode → Auto-Accept Mode → Plan Mode
```

- Normal Mode：默认模式，每次操作需确认
- Auto-Accept Mode：自动接受编辑（底部显示 `⏵⏵ accept edits on`）
- Plan Mode：只读模式（底部显示 `⏸ plan mode on`）

### 启动时指定 

```bash
claude --permission-mode plan
```

### Headless 模式查询 

```bash
claude --permission-mode plan -p "分析认证系统并建议改进"
```

### 设为默认 

```json
// .claude/settings.json
{
  "permissions": {
    "defaultMode": "plan"
  }
}
```