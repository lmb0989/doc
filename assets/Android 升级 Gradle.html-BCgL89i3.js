import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,a as t,o}from"./app-Brvgr_Hz.js";const i="/assets/640-CcVhlxYf.webp",n={};function l(d,e){return o(),r("div",null,[...e[0]||(e[0]=[t('<h3 id="版本信息" tabindex="-1"><a class="header-anchor" href="#版本信息"><span><strong>版本信息</strong></span></a></h3><p>Cocos Creator：2.4.5</p><p>Android Studio：4.1.3</p><h3 id="升级-gradle" tabindex="-1"><a class="header-anchor" href="#升级-gradle"><span><strong>升级 Gradle</strong></span></a></h3><p>项目中经常会接入一些 SDK，而 SDK 基本都是基于原生平台开发，迭代速度比较快，其依赖的 Gradle 版本比较高</p><p>而通过 Cocos 构建的项目，Android 的 Gradle 版本是跟随 Creator 版本的，所以在接入 SDK 的时候，如果 Creator 版本中设置的 Gradle 版本低于 SDK 中需要的 Gradle 版本，就会编译报错</p><p>这时候需要我们自己手动修改</p><p>好在随着 Creator 版本的迭代，很多功能也越来越完善</p><p>比如现在升级 Gradle，只需要很简单的几步就可以完成</p><p>1<strong>构建</strong></p><p>在 Creator 构建面板中按照自己的需求构建 Android</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p><strong>·</strong> <strong>APP ABI：</strong></p><p>ABI 全称：Application Binary Interface</p><p>不同的 Android 设备使用不同的 CPU，而不同的 CPU 支持不同的指令集。CPU 与指令集的每种组合都有专属的应用二进制接口 (ABI)</p><p>主流的 ABI 架构</p><ol><li>armeabiv-v7a：第7代及以上的 ARM 处理器，2011年以后的生产的大部分 Android 设备使用该架构</li><li>arm64-v8a：第8代64位 ARM 处理器，目前主流的 Android 设备使用该架构</li><li>armeabi：第5代、第6代的 ARM 处理器，早期的手机使用的比较多</li><li>x86：平板、模拟器使用得比较多</li><li>x86_64：64位的平板</li></ol><p>通过 adb 命令可以查看手机的 CPU 架构</p><ul><li></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>adb shell getprop ro.product.cpu.abi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2<strong>更改gradle版本</strong></p><p>Gradle 插件版本和 Gradle 版本一定要对应</p><p>其对应关系：</p><p><a href="https://developer.android.google.cn/studio/releases/gradle-plugin" target="_blank" rel="noopener noreferrer">https://developer.android.google.cn/studio/releases/gradle-plugin</a></p><p><strong>· Android Studio 更改</strong></p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>选择版本，依然是要注意对应关系</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>通过 Android Studio 更改后，下面的几个地方会自动更新，同样也可以手动更改</p><p><strong>· 手动更改</strong></p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>构建后默认的 Gradle 插件版本为 3.2.0，更改为 4.1.3</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>Gradle 版本为 4.10.3，更改为 6.6</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>通过 Android Studio 更改后，会显示下载状态</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>3编译</p><p>下载完成后，编译报错：</p><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>game 用于构建 Google Instant App，可以直接删除</p><p>在 setting.gradle 中删除 ,<strong>&#39;:game&#39;</strong>, <strong>&#39;:instantapp&#39;</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+i+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><p>重新编译，就可以正常运行了</p><blockquote><p><a href="https://mp.weixin.qq.com/s/duWokZsIRyJW8HhrSY04JA" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/duWokZsIRyJW8HhrSY04JA</a></p></blockquote>',46)])])}const g=a(n,[["render",l]]),c=JSON.parse('{"path":"/Book/%E6%B8%B8%E6%88%8F/CocosCreator/Android%20%E5%8D%87%E7%BA%A7%20Gradle.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":3,"title":"版本信息","slug":"版本信息","link":"#版本信息","children":[]},{"level":3,"title":"升级 Gradle","slug":"升级-gradle","link":"#升级-gradle","children":[]}],"git":{"createdTime":1733216180000,"updatedTime":1733216180000,"contributors":[{"name":"lmb0989","email":"1150274785@qq.com","commits":1}]},"readingTime":{"minutes":3.75,"words":562},"filePathRelative":"Book/游戏/CocosCreator/Android 升级 Gradle.md","localizedDate":"2024年12月3日","excerpt":"<h3><strong>版本信息</strong></h3>\\n<p>Cocos Creator：2.4.5</p>\\n<p>Android Studio：4.1.3</p>\\n<h3><strong>升级 Gradle</strong></h3>\\n<p>项目中经常会接入一些 SDK，而 SDK 基本都是基于原生平台开发，迭代速度比较快，其依赖的 Gradle 版本比较高</p>\\n<p>而通过 Cocos 构建的项目，Android 的 Gradle 版本是跟随 Creator 版本的，所以在接入 SDK 的时候，如果 Creator 版本中设置的 Gradle 版本低于 SDK 中需要的 Gradle 版本，就会编译报错</p>"}');export{g as comp,c as data};
